---
import BaseLayout from '../../layouts/BaseLayout.astro';

const base = import.meta.env.BASE_URL;
---

<BaseLayout 
  title="When Heat Reveals What Eyes Cannot See | Hafiz" 
  description="How I built a CNN-XGBoost hybrid model to detect breast cancer from thermal images—combining deep learning with ensemble methods for 85%+ accuracy. Published in IEEE CENIM 2024."
  activeNav="blog"
>
  <article class="blog-article">
    
    <!-- Hero Section -->
    <header class="blog-hero">
      <div class="blog-hero__container">
        <div class="blog-hero__content">
          <div class="blog-hero__meta">
            <span class="blog-hero__date">December 15, 2024</span>
            <span class="blog-hero__separator">•</span>
            <span class="blog-hero__read-time">12 min read</span>
          </div>
          <h1 class="blog-hero__title">When Heat Reveals What Eyes Cannot See</h1>
          <p class="blog-hero__subtitle">Building a CNN-XGBoost Hybrid Model for Breast Thermal Image Classification</p>
          <div class="blog-hero__tags">
            <span class="tag">Deep Learning</span>
            <span class="tag">Computer Vision</span>
            <span class="tag">Medical AI</span>
            <span class="tag">Research</span>
          </div>
        </div>
        <figure class="blog-hero__illustration">
          <img src={`${base}images/blog-thermal-hero.png`} alt="Thermal imaging breast cancer detection workflow" />
          <figcaption>How thermal imaging detects temperature asymmetry—a potential biomarker for breast abnormalities—and classifies it using AI</figcaption>
        </figure>
      </div>
    </header>

    <!-- Main Content -->
    <div class="blog-content">
      <div class="blog-content__container">
        
        <!-- Opening Hook -->
        <section class="blog-section blog-section--opening">
          <p class="blog-lead">
            In 2020, Indonesia reported 68,858 new breast cancer cases—accounting for 16.6% of all cancer diagnoses in the country. Behind each statistic is a story of a mother, daughter, sister, or friend. Early detection can mean the difference between life and death, yet effective screening programs remain out of reach for many.
          </p>
          <p>
            This reality drove me to explore an unconventional approach: <strong>what if we could detect early signs of breast cancer by simply reading heat patterns?</strong>
          </p>
        </section>

        <!-- The Problem -->
        <section class="blog-section">
          <h2 class="section-title">The Silent Language of Heat</h2>
          
          <p>
            Every cell in our body radiates heat. Cancerous cells, with their accelerated metabolism and increased blood flow, radiate slightly more. This temperature differential—invisible to the naked eye—creates a thermal signature that can be captured by infrared cameras.
          </p>

          <aside class="callout callout--insight">
            <div class="callout__icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
            </div>
            <div class="callout__content">
              <strong>The Key Insight:</strong> Normal breast tissue shows symmetrical temperature patterns between left and right sides. Abnormal tissue—whether benign or malignant—creates asymmetry. The temperature deviation between cancerous and normal tissue can be as significant as 0.85°C.
            </div>
          </aside>

          <p>
            Traditional detection methods like mammography and biopsy, while accurate, involve physical contact, radiation exposure, or invasive procedures. Thermography offers something different: a completely non-invasive, radiation-free way to detect thermal anomalies that might indicate underlying issues.
          </p>
        </section>

        <!-- The Challenge -->
        <section class="blog-section">
          <h2 class="section-title">The Challenge: Beyond Binary</h2>
          
          <p>
            Most existing research attempted to classify thermal images into just two categories: normal or abnormal. But clinical reality is more nuanced. A patient with a benign condition requires different care than one with malignancy. I wanted to push the boundaries.
          </p>

          <div class="highlight-box">
            <h3>Research Objective</h3>
            <p>Develop a deep learning model capable of classifying breast thermal images into <strong>three distinct categories</strong>:</p>
            <ul class="classification-list">
              <li><span class="class-badge class-badge--normal">Normal</span> Healthy breast tissue with symmetrical thermal patterns</li>
              <li><span class="class-badge class-badge--benign">Benign</span> Abnormal but non-cancerous conditions</li>
              <li><span class="class-badge class-badge--malignant">Malignant</span> Cancerous tissue requiring immediate attention</li>
            </ul>
          </div>
        </section>

        <!-- Dataset Section with Illustration -->
        <section class="blog-section blog-section--with-illustration">
          <figure class="section-illustration">
            <img src={`${base}images/blog-classification.png`} alt="Dataset distribution and classification flow" />
            <figcaption>From 5,483 raw images to a balanced 3-class dataset for training</figcaption>
          </figure>
          
          <div class="section-content">
            <h2 class="section-title">Curating the Dataset</h2>
            
            <p>
              Quality data is the foundation of any machine learning project. I worked with the <strong>Database for Mastology Research (DMR)</strong> from Visual Lab—a publicly available dataset containing thermal images from real patients.
            </p>

            <div class="stats-grid">
              <div class="stat-card">
                <span class="stat-number">5,483</span>
                <span class="stat-label">Total thermal images</span>
              </div>
              <div class="stat-card">
                <span class="stat-number">425</span>
                <span class="stat-label">Patients</span>
              </div>
              <div class="stat-card">
                <span class="stat-number">3</span>
                <span class="stat-label">Classification classes</span>
              </div>
            </div>

            <p>
              The original dataset categorized images as simply "Normal" or "Abnormal." To achieve three-class classification, I developed a <strong>statistical reclassification approach</strong>:
            </p>

            <ol class="process-list">
              <li>Analyzed temperature distribution histograms using Python</li>
              <li>Calculated mean temperature deviation between left and right breasts</li>
              <li>Cross-referenced with medical records including mammography results and biopsy outcomes</li>
            </ol>
          </div>
        </section>

        <!-- Data Table -->
        <section class="blog-section">
          <h3>Final Dataset Distribution</h3>
          
          <div class="data-table-wrapper">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Split</th>
                  <th>Normal</th>
                  <th>Benign</th>
                  <th>Malignant</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Training</td>
                  <td>430</td>
                  <td>430</td>
                  <td>430</td>
                  <td><strong>1,290</strong></td>
                </tr>
                <tr>
                  <td>Validation</td>
                  <td>123</td>
                  <td>123</td>
                  <td>123</td>
                  <td><strong>369</strong></td>
                </tr>
                <tr>
                  <td>Testing</td>
                  <td>61</td>
                  <td>61</td>
                  <td>61</td>
                  <td><strong>183</strong></td>
                </tr>
                <tr class="table-total">
                  <td><strong>Total</strong></td>
                  <td><strong>614</strong></td>
                  <td><strong>614</strong></td>
                  <td><strong>614</strong></td>
                  <td><strong>1,842</strong></td>
                </tr>
              </tbody>
            </table>
          </div>

          <p class="table-caption">
            A perfectly balanced dataset ensures the model doesn't develop bias toward any particular class.
          </p>
        </section>

        <!-- Architecture Section -->
        <section class="blog-section blog-section--architecture">
          <h2 class="section-title">The Hybrid Architecture</h2>
          
          <figure class="architecture-hero">
            <img src={`${base}images/blog-cnn-xgboost.png`} alt="CNN-XGBoost hybrid architecture pipeline" />
            <figcaption>The hybrid pipeline: CNN extracts features from thermal images, XGBoost classifies into Normal, Benign, or Malignant</figcaption>
          </figure>

          <p>
            The core innovation lies in combining two powerful paradigms: the feature extraction prowess of <strong>Convolutional Neural Networks</strong> with the classification strength of <strong>XGBoost ensemble learning</strong>.
          </p>

          <div class="architecture-grid">
            <div class="architecture-card">
              <h3>CNN Feature Extractor</h3>
              <p>
                I experimented with two pre-trained architectures:
              </p>
              <ul>
                <li><strong>VGG-16:</strong> A classic architecture with 16 layers, known for its simplicity and effectiveness</li>
                <li><strong>ResNet-50:</strong> Features residual blocks with skip connections that help prevent the vanishing gradient problem</li>
              </ul>
              <p>
                The CNN component consists of 5 key layers: Input → Convolution → Pooling → Reshape → Fully-connected features.
              </p>
            </div>

            <div class="architecture-card">
              <h3>XGBoost Classifier</h3>
              <p>
                Instead of using traditional softmax classification, I replaced the final layers with an XGBoost ensemble:
              </p>
              <ul>
                <li>Additive tree-boosting method</li>
                <li>10x faster than Random Forest</li>
                <li>Handles sparse data efficiently</li>
                <li>Provides feature importance scores for explainability</li>
              </ul>
            </div>
          </div>

          <aside class="callout callout--config">
            <div class="callout__icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
            </div>
            <div class="callout__content">
              <strong>Optimal Parameters:</strong> Learning rate: 0.001 | Batch size: 32 | n_estimators: 500
            </div>
          </aside>
        </section>

        <!-- Results Section -->
        <section class="blog-section blog-section--results">
          <h2 class="section-title">Results: The Numbers Tell a Story</h2>

          <p>
            After extensive training and hyperparameter tuning, both model variants showed promising performance:
          </p>

          <div class="results-comparison">
            <div class="result-card result-card--vgg">
              <div class="result-card__header">
                <h3>VGG16-XGBoost</h3>
                <span class="result-badge">Stable</span>
              </div>
              <div class="result-card__metrics">
                <div class="metric">
                  <span class="metric-value">87.44%</span>
                  <span class="metric-label">Training Accuracy</span>
                </div>
                <div class="metric">
                  <span class="metric-value metric-value--highlight">72.89%</span>
                  <span class="metric-label">Validation Accuracy</span>
                </div>
              </div>
              <p class="result-card__insight">
                Consistent performance with minimal overfitting. The model correctly classified most Normal cases but showed some confusion between Benign and Malignant classes.
              </p>
            </div>

            <div class="result-card result-card--resnet">
              <div class="result-card__header">
                <h3>ResNet50-XGBoost</h3>
                <span class="result-badge result-badge--best">Best</span>
              </div>
              <div class="result-card__metrics">
                <div class="metric">
                  <span class="metric-value">99.45%</span>
                  <span class="metric-label">Training Accuracy</span>
                </div>
                <div class="metric">
                  <span class="metric-value metric-value--highlight">85.63%</span>
                  <span class="metric-label">Validation Accuracy</span>
                </div>
              </div>
              <p class="result-card__insight">
                Higher overall accuracy, though the gap between training and validation indicates some overfitting. The deeper architecture captured more nuanced features.
              </p>
            </div>
          </div>

          <h3>Understanding the Confusion Matrix</h3>
          
          <p>
            The confusion matrices revealed interesting patterns. Both models excelled at identifying Normal cases (61 correct predictions). The challenge lay in distinguishing between Benign and Malignant—a clinically significant distinction that even human experts sometimes struggle with.
          </p>

          <div class="key-findings">
            <h4>Key Findings</h4>
            <ul>
              <li>The ResNet50 variant's skip connections helped preserve gradient information, leading to better feature extraction</li>
              <li>Temperature asymmetry proved to be a reliable biomarker for initial classification</li>
              <li>XGBoost's ensemble approach provided more robust classification than traditional softmax layers</li>
            </ul>
          </div>
        </section>

        <!-- Takeaways -->
        <section class="blog-section blog-section--takeaways">
          <h2 class="section-title">What This Research Taught Me</h2>

          <div class="takeaways-grid">
            <div class="takeaway-card">
              <div class="takeaway-number">01</div>
              <h3>Hybrid Models Have Merit</h3>
              <p>Combining CNN feature extraction with ensemble classifiers can outperform end-to-end approaches for certain medical imaging tasks.</p>
            </div>

            <div class="takeaway-card">
              <div class="takeaway-number">02</div>
              <h3>Transfer Learning Works</h3>
              <p>Pre-trained ImageNet weights transfer surprisingly well to thermal imagery—despite the dramatic domain difference.</p>
            </div>

            <div class="takeaway-card">
              <div class="takeaway-number">03</div>
              <h3>Data Quality Matters Most</h3>
              <p>The careful statistical reclassification of the dataset was crucial. Garbage in, garbage out applies doubly in medical AI.</p>
            </div>

            <div class="takeaway-card">
              <div class="takeaway-number">04</div>
              <h3>Explainability is Essential</h3>
              <p>XGBoost's feature importance scores provide transparency that's critical for clinical adoption.</p>
            </div>
          </div>
        </section>

        <!-- Future Work -->
        <section class="blog-section">
          <h2 class="section-title">Looking Forward</h2>

          <p>
            This research opens several exciting avenues for future exploration:
          </p>

          <ul>
            <li><strong>Attention Mechanisms:</strong> Implementing Grad-CAM or attention layers to visualize which regions the model focuses on</li>
            <li><strong>Multi-modal Fusion:</strong> Combining thermal data with clinical features for improved accuracy</li>
            <li><strong>Larger Datasets:</strong> Collaborating with hospitals to gather more diverse thermal imaging data</li>
            <li><strong>Clinical Validation:</strong> Working with medical experts to validate the approach in real screening scenarios</li>
          </ul>
        </section>

        <!-- Resources -->
        <section class="blog-section blog-section--resources">
          <h2 class="section-title">Resources</h2>

          <div class="resources-grid">
            <a href="https://www.kaggle.com/code/hyzentech/xgboost-resnet50" class="resource-card" target="_blank" rel="noopener">
              <div class="resource-card__icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 18l6-6-6-6"/><path d="M8 6l-6 6 6 6"/></svg>
              </div>
              <div class="resource-card__content">
                <h3>View Code on Kaggle</h3>
                <p>Full implementation with ResNet50-XGBoost</p>
              </div>
              <svg class="resource-card__arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </a>

            <a href="https://ieeexplore.ieee.org/document/10882662" class="resource-card" target="_blank" rel="noopener">
              <div class="resource-card__icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
              </div>
              <div class="resource-card__content">
                <h3>IEEE Xplore Publication</h3>
                <p>Full research paper from CENIM 2024</p>
              </div>
              <svg class="resource-card__arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </a>
          </div>
        </section>

        <!-- Acknowledgments -->
        <section class="blog-section blog-section--acknowledgments">
          <h2 class="section-title">Acknowledgments</h2>

          <p>
            This research was conducted at <strong>Universitas Syiah Kuala</strong> under the supervision of Prof. Dr. Ir. Roslidar, S.T., M.Sc., IPM., ASEAN Eng. Special thanks to my co-authors Khairun Saddami and Essy Harnelly for their invaluable contributions.
          </p>

          <p>
            The work was supported by the Institute for Research and Community Services (LPPM) Universitas Syiah Kuala under grant number 251/UN11.2.1/PG.01.03/SPK/PTNBH/2024.
          </p>

          <p class="closing-note">
            <em>If you're working on medical AI or thermal imaging research, I'd love to connect. Let's push the boundaries of what's possible in healthcare AI together.</em>
          </p>
        </section>

      </div>
    </div>

  </article>
</BaseLayout>

<style>
/* ================================================
   BLOG POST STYLES - ANTHROPIC INSPIRED
   ================================================ */

/* Hero Section */
.blog-hero {
  padding: var(--space-16) 0 var(--space-12);
  background-color: var(--color-bg);
  border-bottom: 1px solid var(--color-border-light);
}

.blog-hero__container {
  max-width: var(--max-width-wide);
  margin: 0 auto;
  padding: 0 var(--space-6);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-12);
  align-items: center;
}

.blog-hero__content {
  opacity: 0;
  animation: fadeInUp 0.8s ease forwards;
}

.blog-hero__meta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-sm);
  color: var(--color-text-light);
  margin-bottom: var(--space-4);
  font-style: italic;
}

.blog-hero__separator {
  color: var(--color-text-lightest);
}

.blog-hero__title {
  font-family: var(--font-heading);
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 400;
  line-height: 1.1;
  margin-bottom: var(--space-4);
  color: var(--color-text);
}

.blog-hero__subtitle {
  font-family: var(--font-body);
  font-size: var(--text-xl);
  color: var(--color-text-muted);
  line-height: 1.6;
  margin-bottom: var(--space-6);
}

.blog-hero__tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.blog-hero__illustration {
  opacity: 0;
  animation: fadeIn 1s ease 0.3s forwards;
  margin: 0;
}

.blog-hero__illustration img {
  width: 100%;
  height: auto;
  border-radius: var(--border-radius-lg);
  background-color: #FFFFFF;
  padding: var(--space-4);
  border: 1px solid var(--color-border);
  transition: filter var(--transition-base), background-color var(--transition-base);
}

.blog-hero__illustration figcaption {
  text-align: center;
  font-size: var(--text-sm);
  color: var(--color-text-light);
  font-style: italic;
  margin-top: var(--space-3);
  line-height: 1.5;
}

/* Dark mode: invert white-background illustrations */
:global([data-theme="dark"]) .blog-hero__illustration img,
:global([data-theme="dark"]) .section-illustration img,
:global([data-theme="dark"]) .architecture-hero img {
  filter: invert(0.88) hue-rotate(180deg);
  background-color: var(--color-bg-card);
  border-color: var(--color-border);
}

/* Tags */
.tag {
  display: inline-block;
  padding: var(--space-1) var(--space-3);
  background-color: transparent;
  color: var(--color-text-muted);
  font-size: var(--text-sm);
  border: 1px solid var(--color-border);
  border-radius: 20px;
  transition: all var(--transition-fast);
}

.tag:hover {
  background-color: var(--color-text);
  color: var(--color-bg);
  border-color: var(--color-text);
}

/* Main Content */
.blog-content {
  padding: var(--space-16) 0;
}

.blog-content__container {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--space-6);
}

/* Sections */
.blog-section {
  margin-bottom: var(--space-16);
}

.blog-section--opening {
  margin-bottom: var(--space-12);
}

.section-title {
  font-family: var(--font-heading);
  font-size: var(--text-3xl);
  font-weight: 400;
  margin-bottom: var(--space-6);
  color: var(--color-text);
}

/* Typography */
.blog-lead {
  font-size: var(--text-xl);
  line-height: 1.8;
  color: var(--color-text);
  margin-bottom: var(--space-6);
}

.blog-content p {
  font-size: var(--text-lg);
  line-height: 1.9;
  color: var(--color-text-muted);
  margin-bottom: var(--space-6);
}

.blog-content h3 {
  font-family: var(--font-heading);
  font-size: var(--text-2xl);
  font-weight: 500;
  margin-top: var(--space-10);
  margin-bottom: var(--space-4);
}

.blog-content h4 {
  font-family: var(--font-heading);
  font-size: var(--text-xl);
  font-weight: 500;
  margin-top: var(--space-8);
  margin-bottom: var(--space-3);
}

.blog-content ul,
.blog-content ol {
  margin-bottom: var(--space-6);
  padding-left: var(--space-6);
}

.blog-content li {
  font-size: var(--text-lg);
  line-height: 1.8;
  color: var(--color-text-muted);
  margin-bottom: var(--space-3);
}

.blog-content ul li {
  list-style-type: disc;
}

.blog-content ol li {
  list-style-type: decimal;
}

/* Callouts */
.callout {
  display: flex;
  gap: var(--space-4);
  padding: var(--space-6);
  background-color: var(--color-bg-alt);
  border-radius: var(--border-radius-lg);
  margin: var(--space-8) 0;
  border-left: 4px solid var(--color-accent);
}

.callout__icon {
  flex-shrink: 0;
  color: var(--color-accent);
}

.callout__content {
  font-size: var(--text-base);
  line-height: 1.7;
  color: var(--color-text);
}

.callout--config {
  border-left-color: #6B7280;
}

.callout--config .callout__icon {
  color: #6B7280;
}

/* Highlight Box */
.highlight-box {
  background: linear-gradient(135deg, var(--color-bg-alt) 0%, var(--color-bg) 100%);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  padding: var(--space-8);
  margin: var(--space-8) 0;
}

.highlight-box h3 {
  font-family: var(--font-heading);
  font-size: var(--text-xl);
  margin-bottom: var(--space-4);
  margin-top: 0;
}

.classification-list {
  list-style: none;
  padding: 0;
}

.classification-list li {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.class-badge {
  display: inline-block;
  padding: var(--space-1) var(--space-3);
  border-radius: 20px;
  font-size: var(--text-sm);
  font-weight: 600;
  white-space: nowrap;
}

.class-badge--normal {
  background-color: #D1FAE5;
  color: #065F46;
}

.class-badge--benign {
  background-color: #FEF3C7;
  color: #92400E;
}

.class-badge--malignant {
  background-color: #FEE2E2;
  color: #991B1B;
}

/* Stats Grid */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
  margin: var(--space-8) 0;
}

.stat-card {
  text-align: center;
  padding: var(--space-6);
  background-color: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
}

.stat-number {
  display: block;
  font-family: var(--font-heading);
  font-size: var(--text-4xl);
  font-weight: 600;
  color: var(--color-text);
  line-height: 1;
  margin-bottom: var(--space-2);
}

.stat-label {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}

/* Section with Illustration */
.blog-section--with-illustration {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: var(--space-10);
  align-items: start;
}

.section-illustration {
  margin: 0;
}

.section-illustration img {
  width: 100%;
  border-radius: var(--border-radius-lg);
  position: sticky;
  top: 100px;
  background-color: #FFFFFF;
  padding: var(--space-4);
  border: 1px solid var(--color-border);
  transition: filter var(--transition-base), background-color var(--transition-base);
}

.section-illustration figcaption {
  text-align: center;
  font-size: var(--text-sm);
  color: var(--color-text-light);
  font-style: italic;
  margin-top: var(--space-3);
  line-height: 1.5;
}

/* Process List */
.process-list {
  counter-reset: process;
  list-style: none;
  padding: 0;
}

.process-list li {
  counter-increment: process;
  position: relative;
  padding-left: var(--space-10);
  margin-bottom: var(--space-4);
}

.process-list li::before {
  content: counter(process);
  position: absolute;
  left: 0;
  width: 28px;
  height: 28px;
  background-color: var(--color-text);
  color: var(--color-bg);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-sm);
  font-weight: 600;
}

/* Data Table */
.data-table-wrapper {
  overflow-x: auto;
  margin: var(--space-6) 0;
}

.data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--text-base);
}

.data-table th,
.data-table td {
  padding: var(--space-4);
  text-align: center;
  border-bottom: 1px solid var(--color-border);
}

.data-table th {
  background-color: var(--color-bg-alt);
  font-weight: 600;
  color: var(--color-text);
}

.data-table td {
  color: var(--color-text-muted);
}

.table-total {
  background-color: var(--color-bg-alt);
}

.table-total td {
  color: var(--color-text);
}

.table-caption {
  font-size: var(--text-sm);
  color: var(--color-text-light);
  font-style: italic;
  text-align: center;
  margin-top: var(--space-4);
}

/* Architecture Section */
.architecture-hero {
  margin: var(--space-8) 0;
}

.architecture-hero img {
  width: 100%;
  border-radius: var(--border-radius-lg);
  background-color: #FFFFFF;
  padding: var(--space-6);
  border: 1px solid var(--color-border);
  transition: filter var(--transition-base), background-color var(--transition-base);
}

.architecture-hero figcaption {
  text-align: center;
  font-size: var(--text-sm);
  color: var(--color-text-light);
  font-style: italic;
  margin-top: var(--space-4);
  line-height: 1.5;
}

.architecture-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-6);
  margin: var(--space-8) 0;
}

.architecture-card {
  padding: var(--space-6);
  background-color: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
}

.architecture-card h3 {
  font-family: var(--font-heading);
  font-size: var(--text-xl);
  margin-bottom: var(--space-4);
  margin-top: 0;
}

.architecture-card ul {
  margin-bottom: 0;
}

/* Results Section */
.results-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-6);
  margin: var(--space-8) 0;
}

.result-card {
  padding: var(--space-6);
  background-color: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
}

.result-card__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
}

.result-card__header h3 {
  font-family: var(--font-heading);
  font-size: var(--text-xl);
  margin: 0;
}

.result-badge {
  padding: var(--space-1) var(--space-3);
  background-color: var(--color-bg-alt);
  color: var(--color-text-muted);
  font-size: var(--text-xs);
  border-radius: 20px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.result-badge--best {
  background-color: #D1FAE5;
  color: #065F46;
}

.result-card__metrics {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.metric {
  text-align: center;
  padding: var(--space-4);
  background-color: var(--color-bg-alt);
  border-radius: var(--border-radius);
}

.metric-value {
  display: block;
  font-family: var(--font-heading);
  font-size: var(--text-2xl);
  font-weight: 600;
  color: var(--color-text);
  margin-bottom: var(--space-1);
}

.metric-value--highlight {
  color: var(--color-accent);
}

.metric-label {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.result-card__insight {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  margin: 0;
  line-height: 1.6;
}

/* Key Findings */
.key-findings {
  background-color: var(--color-bg-alt);
  padding: var(--space-6);
  border-radius: var(--border-radius-lg);
  margin: var(--space-8) 0;
}

.key-findings h4 {
  margin-top: 0;
  margin-bottom: var(--space-4);
}

.key-findings ul {
  margin-bottom: 0;
}

/* Takeaways Grid */
.takeaways-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-6);
}

.takeaway-card {
  padding: var(--space-6);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  transition: all var(--transition-base);
}

.takeaway-card:hover {
  border-color: var(--color-text);
  transform: translateY(-4px);
}

.takeaway-number {
  font-family: var(--font-heading);
  font-size: var(--text-3xl);
  font-weight: 600;
  color: var(--color-text-lightest);
  margin-bottom: var(--space-3);
}

.takeaway-card h3 {
  font-family: var(--font-heading);
  font-size: var(--text-lg);
  margin-bottom: var(--space-3);
  margin-top: 0;
}

.takeaway-card p {
  font-size: var(--text-base);
  margin: 0;
  line-height: 1.6;
}

/* Resources */
.resources-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-4);
}

.resource-card {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-5);
  background-color: var(--color-bg-card);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-lg);
  text-decoration: none;
  color: var(--color-text);
  transition: all var(--transition-base);
}

.resource-card:hover {
  border-color: var(--color-text);
  transform: translateX(4px);
}

.resource-card__icon {
  flex-shrink: 0;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-alt);
  border-radius: var(--border-radius);
}

.resource-card__content {
  flex: 1;
}

.resource-card__content h3 {
  font-family: var(--font-heading);
  font-size: var(--text-base);
  margin: 0 0 var(--space-1) 0;
}

.resource-card__content p {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  margin: 0;
}

.resource-card__arrow {
  flex-shrink: 0;
  transition: transform var(--transition-base);
}

.resource-card:hover .resource-card__arrow {
  transform: translateX(4px);
}

/* Acknowledgments */
.blog-section--acknowledgments {
  padding-top: var(--space-12);
  border-top: 1px solid var(--color-border);
}

.closing-note {
  padding: var(--space-6);
  background-color: var(--color-bg-alt);
  border-radius: var(--border-radius-lg);
  text-align: center;
  margin-top: var(--space-8);
}

/* Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Responsive */
@media (max-width: 900px) {
  .blog-hero__container {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .blog-hero__tags {
    justify-content: center;
  }

  .blog-hero__illustration {
    order: -1;
    max-width: 400px;
    margin: 0 auto;
  }

  .blog-section--with-illustration {
    grid-template-columns: 1fr;
  }

  .section-illustration {
    order: -1;
    max-width: 300px;
    margin: 0 auto var(--space-6);
  }

  .section-illustration img {
    position: static;
  }

  .architecture-grid,
  .results-comparison,
  .resources-grid,
  .takeaways-grid {
    grid-template-columns: 1fr;
  }

  .stats-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 600px) {
  .blog-hero {
    padding: var(--space-10) 0;
  }

  .blog-hero__title {
    font-size: 2rem;
  }

  .result-card__metrics {
    grid-template-columns: 1fr;
  }
}
</style>
